<% if user_signed_in? %>
  <%= turbo_frame_tag dom_id(chatbot, :favorite_btn) do %>
    <% if chatbot.favorited_by?(current_user) %>
      <%= link_to chatbot_favorites_path(chatbot), data: { turbo_method: :delete }, class: 'btn rounded-full p-2 hover:rotate-6 hover:scale-105 transition-all duration-200 ease-in-out' do %>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 shrink-0 text-tertiary-900">
          <path fill-rule="evenodd" d="M10 2c-1.716 0-3.408.106-5.07.31C3.806 2.45 3 3.414 3 4.517V17.25a.75.75 0 001.075.676L10 15.082l5.925 2.844A.75.75 0 0017 17.25V4.517c0-1.103-.806-2.068-1.93-2.207A41.403 41.403 0 0010 2z" clip-rule="evenodd" />
        </svg>
      <% end %>
    <% else %>
      <%= link_to chatbot_favorites_path(chatbot), data: { turbo_method: :post }, class: 'btn rounded-full p-2 hover:rotate-6 hover:scale-105 transition-all duration-200 ease-in-out' do %>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 shrink-0">
          <path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z" />
        </svg>
      <% end %>
    <% end %>
  <% end %>
<% else %>
  <%= link_to new_user_session_path,
    class: "btn rounded-full p-2 hover:rotate-6 hover:scale-105 transition-all duration-200 ease-in-out",
    data: { turbo_frame: :modal } do %>
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 shrink-0">
      <path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z" />
    </svg>
  <% end %>
<% end %>